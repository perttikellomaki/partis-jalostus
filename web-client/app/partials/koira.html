<script type="text/ng-template" id="paimennus_details">
  <hr>
  Päivä {{entry.paiva}}, 
  Paikka {{entry.paikka}},
  Tuomari {{entry.tuomari}}
  <br>
  Kiinnostus / taipumus / henkinen kestävyys / ohjattavuus:
  {{entry.kiinnostus}} / 
  {{entry.taipumus}} /
  {{entry.henkinen_kestavyys}} /
  {{entry.ohjattavuus}}<br>
  <span class="author_nick">{{entry.author_nick}}</span>
  <hr>
</script>

<form>
  Virallinen nimi / muu tunniste:
  <input ng-show="editing" ng-model="koira.virallinen_nimi"/>
  <span ng-show="!editing">{{koira.virallinen_nimi}}</span>
  <span class="author_nick">{{koira.author_nick}}</span>
  <button ng-show="editing" ng-click="save()">Tallenna</button>
  <button ng-show="!editing" ng-click="toggleEdit()">Edit</button>
  <span ng-show="koira_history.length > 0">
    <input type="checkbox" ng-model="koira_show_history">Historia</input>
    <br>
    <span ng-show="koira_show_history" class="history" ng-repeat="h in koira_history">
      {{h.virallinen_nimi}}
      {{h.author_nick}}
      {{h.timestamp}}
    </span>
  </span>
</form>
<span ng-show="existing_koira">
  <form ng-controller="PaimennusCtrl">
    Paimennustaipumuskoe: {{summary}}
    <a href ng-click="toggleExpand()">lisää...</a>
    <br>
    <span ng-show="expanded">
      <span ng-repeat="entry in entries">
	<span ng-include="'paimennus_details'"></span>
      </span>
      <span ng-show="entry">
	Kiinnostus <input ng-model="entry.kiinnostus"/><br>
	Luontainen taipumus <input ng-model="entry.taipumus"/><br>
	Henkinen kestävyys <input ng-model="entry.henkinen_kestavyys"/><br>
	Ohjattavuus <input ng-model="entry.ohjattavuus"/><br>
	Tuomari <input ng-model="entry.tuomari"/><br>
	Paikka <input ng-model="entry.paikka"/><br>
	Päivä <input ng-model="entry.paiva"/><br>
      </span>
      <button ng-show="entry" ng-click="saveTest()">Tallenna</button>
      <button ng-show="!entry" ng-click="newTest()">Uusi</button>
    </span>
  </form>
</span>
